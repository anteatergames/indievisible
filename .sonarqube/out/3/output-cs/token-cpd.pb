ü
~C:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Data\AspNetIdentityContext.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Data3 7
{		 
public

 

class

 !
AspNetIdentityContext

 &
:

' (
IdentityDbContext

) :
<

: ;
ApplicationUser

; J
>

J K
{ 
public !
AspNetIdentityContext $
($ %
DbContextOptions% 5
<5 6!
AspNetIdentityContext6 K
>K L
optionsM T
)T U
: 
base 
( 
options 
) 
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
	SeedRoles 
( 
builder 
) 
; 
} 	
private 
static 
void 
	SeedRoles %
(% &
ModelBuilder& 2
builder3 :
): ;
{ 	
var 
roles 
= 
Enum 
. 
GetNames %
(% &
typeof& ,
(, -
Roles- 2
)2 3
)3 4
;4 5
foreach   
(   
var   
role   
in    
roles  ! &
)  & '
{!! 
builder"" 
."" 
Entity"" 
<"" 
IdentityRole"" +
>""+ ,
("", -
)""- .
."". /
HasData""/ 6
(""6 7
new""7 :
IdentityRole""; G
{""H I
Name""J N
=""O P
role""Q U
,""U V
NormalizedName""W e
=""f g
role""h l
.""l m
ToUpper""m t
(""t u
)""u v
}""w x
)""x y
;""y z
}## 
}$$ 	
}%% 
}&& ä 
ÑC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Extensions\EmailSenderExtensions.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Services3 ;
{ 
public 

static 
class !
EmailSenderExtensions -
{ 
public 
static 
Task &
SendEmailConfirmationAsync 5
(5 6
this6 :
IEmailSender; G
emailSenderH S
,S T
stringU [
email\ a
,a b
stringc i
linkj n
)n o
{		 	
string

 
mailText

 
=

 %
ConfirmationEmailTemplate

 7
(

7 8
$str

8 L
, 
HtmlEncoder 
. 
Default %
.% &
Encode& ,
(, -
link- 1
)1 2
, 
$str &
, 
$str 
, 
$str o
, 
$str o
, 
$str 2
, 
$str %
)% &
;& '
return 
emailSender 
. 
SendEmailAsync -
(- .
email. 3
,3 4
$str5 I
,I J
mailTextK S
)S T
;T U
} 	
public 
static 
string %
ConfirmationEmailTemplate 6
(6 7
string7 =
title> C
,C D
stringE K
	actionUrlL U
,U V
stringW ]

actionText^ h
,h i
stringj p
greetingq y
,y z
string	{ Å
textBeforeAction
Ç í
,
í ì
string
î ö
textAfterAction
õ ™
,
™ ´
string
¨ ≤
byeText
≥ ∫
,
∫ ª
string
º ¬

footerText
√ Õ
)
Õ Œ
{ 	
string 
template 
= 
$str	∏ 
;
∏∏ 
template
ºº 
=
ºº 
template
ºº 
.
ºº  
Replace
ºº  '
(
ºº' (
$str
ºº( 0
,
ºº0 1
title
ºº2 7
)
ºº7 8
;
ºº8 9
template
ΩΩ 
=
ΩΩ 
template
ΩΩ 
.
ΩΩ  
Replace
ΩΩ  '
(
ΩΩ' (
$str
ΩΩ( 3
,
ΩΩ3 4
greeting
ΩΩ5 =
)
ΩΩ= >
;
ΩΩ> ?
template
ææ 
=
ææ 
template
ææ 
.
ææ  
Replace
ææ  '
(
ææ' (
$str
ææ( ;
,
ææ; <
textBeforeAction
ææ= M
)
ææM N
;
ææN O
template
øø 
=
øø 
template
øø 
.
øø  
Replace
øø  '
(
øø' (
$str
øø( 4
,
øø4 5
	actionUrl
øø6 ?
)
øø? @
;
øø@ A
template
¿¿ 
=
¿¿ 
template
¿¿ 
.
¿¿  
Replace
¿¿  '
(
¿¿' (
$str
¿¿( 5
,
¿¿5 6

actionText
¿¿7 A
)
¿¿A B
;
¿¿B C
template
¡¡ 
=
¡¡ 
template
¡¡ 
.
¡¡  
Replace
¡¡  '
(
¡¡' (
$str
¡¡( :
,
¡¡: ;
textAfterAction
¡¡< K
)
¡¡K L
;
¡¡L M
template
¬¬ 
=
¬¬ 
template
¬¬ 
.
¬¬  
Replace
¬¬  '
(
¬¬' (
$str
¬¬( 2
,
¬¬2 3
byeText
¬¬4 ;
)
¬¬; <
;
¬¬< =
template
√√ 
=
√√ 
template
√√ 
.
√√  
Replace
√√  '
(
√√' (
$str
√√( 5
,
√√5 6

footerText
√√7 A
)
√√A B
;
√√B C
return
«« 
template
«« 
;
«« 
}
»» 	
}
…… 
}   ∂¥
ÖC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Migrations\20181118015612_initial.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3

Migrations3 =
{ 
public 

partial 
class 
initial  
:! "
	Migration# ,
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
	maxLength0 9
:9 :
$num; >
,> ?
nullable@ H
:H I
trueJ N
)N O
,O P
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
	maxLength: C
:C D
$numE H
,H I
nullableJ R
:R S
trueT X
)X Y
,Y Z
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
nullable< D
:D E
trueF J
)J K
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
	maxLength4 =
:= >
$num? B
,B C
nullableD L
:L M
trueN R
)R S
,S T
NormalizedUserName &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
	maxLength> G
:G H
$numI L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
	maxLength  1 :
:  : ;
$num  < ?
,  ? @
nullable  A I
:  I J
true  K O
)  O P
,  P Q
NormalizedEmail!! #
=!!$ %
table!!& +
.!!+ ,
Column!!, 2
<!!2 3
string!!3 9
>!!9 :
(!!: ;
	maxLength!!; D
:!!D E
$num!!F I
,!!I J
nullable!!K S
:!!S T
true!!U Y
)!!Y Z
,!!Z [
EmailConfirmed"" "
=""# $
table""% *
.""* +
Column""+ 1
<""1 2
bool""2 6
>""6 7
(""7 8
nullable""8 @
:""@ A
false""B G
)""G H
,""H I
PasswordHash##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
nullable##8 @
:##@ A
true##B F
)##F G
,##G H
SecurityStamp$$ !
=$$" #
table$$$ )
.$$) *
Column$$* 0
<$$0 1
string$$1 7
>$$7 8
($$8 9
nullable$$9 A
:$$A B
true$$C G
)$$G H
,$$H I
ConcurrencyStamp%% $
=%%% &
table%%' ,
.%%, -
Column%%- 3
<%%3 4
string%%4 :
>%%: ;
(%%; <
nullable%%< D
:%%D E
true%%F J
)%%J K
,%%K L
PhoneNumber&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
string&&/ 5
>&&5 6
(&&6 7
nullable&&7 ?
:&&? @
true&&A E
)&&E F
,&&F G 
PhoneNumberConfirmed'' (
='') *
table''+ 0
.''0 1
Column''1 7
<''7 8
bool''8 <
>''< =
(''= >
nullable''> F
:''F G
false''H M
)''M N
,''N O
TwoFactorEnabled(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
bool((4 8
>((8 9
(((9 :
nullable((: B
:((B C
false((D I
)((I J
,((J K

LockoutEnd)) 
=))  
table))! &
.))& '
Column))' -
<))- .
DateTimeOffset)). <
>))< =
())= >
nullable))> F
:))F G
true))H L
)))L M
,))M N
LockoutEnabled** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
bool**2 6
>**6 7
(**7 8
nullable**8 @
:**@ A
false**B G
)**G H
,**H I
AccessFailedCount++ %
=++& '
table++( -
.++- .
Column++. 4
<++4 5
int++5 8
>++8 9
(++9 :
nullable++: B
:++B C
false++D I
)++I J
},, 
,,, 
constraints-- 
:-- 
table-- "
=>--# %
{.. 
table// 
.// 

PrimaryKey// $
(//$ %
$str//% 5
,//5 6
x//7 8
=>//9 ;
x//< =
.//= >
Id//> @
)//@ A
;//A B
}00 
)00 
;00 
migrationBuilder22 
.22 
CreateTable22 (
(22( )
name33 
:33 
$str33 (
,33( )
columns44 
:44 
table44 
=>44 !
new44" %
{55 
Id66 
=66 
table66 
.66 
Column66 %
<66% &
int66& )
>66) *
(66* +
nullable66+ 3
:663 4
false665 :
)66: ;
.77 

Annotation77 #
(77# $
$str77$ G
,77G H,
 SqlServerValueGenerationStrategy77I i
.77i j
IdentityColumn77j x
)77x y
,77y z
RoleId88 
=88 
table88 "
.88" #
Column88# )
<88) *
string88* 0
>880 1
(881 2
nullable882 :
:88: ;
false88< A
)88A B
,88B C
	ClaimType99 
=99 
table99  %
.99% &
Column99& ,
<99, -
string99- 3
>993 4
(994 5
nullable995 =
:99= >
true99? C
)99C D
,99D E

ClaimValue:: 
=::  
table::! &
.::& '
Column::' -
<::- .
string::. 4
>::4 5
(::5 6
nullable::6 >
:::> ?
true::@ D
)::D E
};; 
,;; 
constraints<< 
:<< 
table<< "
=><<# %
{== 
table>> 
.>> 

PrimaryKey>> $
(>>$ %
$str>>% :
,>>: ;
x>>< =
=>>>> @
x>>A B
.>>B C
Id>>C E
)>>E F
;>>F G
table?? 
.?? 

ForeignKey?? $
(??$ %
name@@ 
:@@ 
$str@@ F
,@@F G
columnAA 
:AA 
xAA  !
=>AA" $
xAA% &
.AA& '
RoleIdAA' -
,AA- .
principalTableBB &
:BB& '
$strBB( 5
,BB5 6
principalColumnCC '
:CC' (
$strCC) -
,CC- .
onDeleteDD  
:DD  !
ReferentialActionDD" 3
.DD3 4
CascadeDD4 ;
)DD; <
;DD< =
}EE 
)EE 
;EE 
migrationBuilderGG 
.GG 
CreateTableGG (
(GG( )
nameHH 
:HH 
$strHH (
,HH( )
columnsII 
:II 
tableII 
=>II !
newII" %
{JJ 
IdKK 
=KK 
tableKK 
.KK 
ColumnKK %
<KK% &
intKK& )
>KK) *
(KK* +
nullableKK+ 3
:KK3 4
falseKK5 :
)KK: ;
.LL 

AnnotationLL #
(LL# $
$strLL$ G
,LLG H,
 SqlServerValueGenerationStrategyLLI i
.LLi j
IdentityColumnLLj x
)LLx y
,LLy z
UserIdMM 
=MM 
tableMM "
.MM" #
ColumnMM# )
<MM) *
stringMM* 0
>MM0 1
(MM1 2
nullableMM2 :
:MM: ;
falseMM< A
)MMA B
,MMB C
	ClaimTypeNN 
=NN 
tableNN  %
.NN% &
ColumnNN& ,
<NN, -
stringNN- 3
>NN3 4
(NN4 5
nullableNN5 =
:NN= >
trueNN? C
)NNC D
,NND E

ClaimValueOO 
=OO  
tableOO! &
.OO& '
ColumnOO' -
<OO- .
stringOO. 4
>OO4 5
(OO5 6
nullableOO6 >
:OO> ?
trueOO@ D
)OOD E
}PP 
,PP 
constraintsQQ 
:QQ 
tableQQ "
=>QQ# %
{RR 
tableSS 
.SS 

PrimaryKeySS $
(SS$ %
$strSS% :
,SS: ;
xSS< =
=>SS> @
xSSA B
.SSB C
IdSSC E
)SSE F
;SSF G
tableTT 
.TT 

ForeignKeyTT $
(TT$ %
nameUU 
:UU 
$strUU F
,UUF G
columnVV 
:VV 
xVV  !
=>VV" $
xVV% &
.VV& '
UserIdVV' -
,VV- .
principalTableWW &
:WW& '
$strWW( 5
,WW5 6
principalColumnXX '
:XX' (
$strXX) -
,XX- .
onDeleteYY  
:YY  !
ReferentialActionYY" 3
.YY3 4
CascadeYY4 ;
)YY; <
;YY< =
}ZZ 
)ZZ 
;ZZ 
migrationBuilder\\ 
.\\ 
CreateTable\\ (
(\\( )
name]] 
:]] 
$str]] (
,]]( )
columns^^ 
:^^ 
table^^ 
=>^^ !
new^^" %
{__ 
LoginProvider`` !
=``" #
table``$ )
.``) *
Column``* 0
<``0 1
string``1 7
>``7 8
(``8 9
nullable``9 A
:``A B
false``C H
)``H I
,``I J
ProviderKeyaa 
=aa  !
tableaa" '
.aa' (
Columnaa( .
<aa. /
stringaa/ 5
>aa5 6
(aa6 7
nullableaa7 ?
:aa? @
falseaaA F
)aaF G
,aaG H
ProviderDisplayNamebb '
=bb( )
tablebb* /
.bb/ 0
Columnbb0 6
<bb6 7
stringbb7 =
>bb= >
(bb> ?
nullablebb? G
:bbG H
truebbI M
)bbM N
,bbN O
UserIdcc 
=cc 
tablecc "
.cc" #
Columncc# )
<cc) *
stringcc* 0
>cc0 1
(cc1 2
nullablecc2 :
:cc: ;
falsecc< A
)ccA B
}dd 
,dd 
constraintsee 
:ee 
tableee "
=>ee# %
{ff 
tablegg 
.gg 

PrimaryKeygg $
(gg$ %
$strgg% :
,gg: ;
xgg< =
=>gg> @
newggA D
{ggE F
xggG H
.ggH I
LoginProviderggI V
,ggV W
xggX Y
.ggY Z
ProviderKeyggZ e
}ggf g
)ggg h
;ggh i
tablehh 
.hh 

ForeignKeyhh $
(hh$ %
nameii 
:ii 
$strii F
,iiF G
columnjj 
:jj 
xjj  !
=>jj" $
xjj% &
.jj& '
UserIdjj' -
,jj- .
principalTablekk &
:kk& '
$strkk( 5
,kk5 6
principalColumnll '
:ll' (
$strll) -
,ll- .
onDeletemm  
:mm  !
ReferentialActionmm" 3
.mm3 4
Cascademm4 ;
)mm; <
;mm< =
}nn 
)nn 
;nn 
migrationBuilderpp 
.pp 
CreateTablepp (
(pp( )
nameqq 
:qq 
$strqq '
,qq' (
columnsrr 
:rr 
tablerr 
=>rr !
newrr" %
{ss 
UserIdtt 
=tt 
tablett "
.tt" #
Columntt# )
<tt) *
stringtt* 0
>tt0 1
(tt1 2
nullablett2 :
:tt: ;
falsett< A
)ttA B
,ttB C
RoleIduu 
=uu 
tableuu "
.uu" #
Columnuu# )
<uu) *
stringuu* 0
>uu0 1
(uu1 2
nullableuu2 :
:uu: ;
falseuu< A
)uuA B
}vv 
,vv 
constraintsww 
:ww 
tableww "
=>ww# %
{xx 
tableyy 
.yy 

PrimaryKeyyy $
(yy$ %
$stryy% 9
,yy9 :
xyy; <
=>yy= ?
newyy@ C
{yyD E
xyyF G
.yyG H
UserIdyyH N
,yyN O
xyyP Q
.yyQ R
RoleIdyyR X
}yyY Z
)yyZ [
;yy[ \
tablezz 
.zz 

ForeignKeyzz $
(zz$ %
name{{ 
:{{ 
$str{{ E
,{{E F
column|| 
:|| 
x||  !
=>||" $
x||% &
.||& '
RoleId||' -
,||- .
principalTable}} &
:}}& '
$str}}( 5
,}}5 6
principalColumn~~ '
:~~' (
$str~~) -
,~~- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
table
ÄÄ 
.
ÄÄ 

ForeignKey
ÄÄ $
(
ÄÄ$ %
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ E
,
ÅÅE F
column
ÇÇ 
:
ÇÇ 
x
ÇÇ  !
=>
ÇÇ" $
x
ÇÇ% &
.
ÇÇ& '
UserId
ÇÇ' -
,
ÇÇ- .
principalTable
ÉÉ &
:
ÉÉ& '
$str
ÉÉ( 5
,
ÉÉ5 6
principalColumn
ÑÑ '
:
ÑÑ' (
$str
ÑÑ) -
,
ÑÑ- .
onDelete
ÖÖ  
:
ÖÖ  !
ReferentialAction
ÖÖ" 3
.
ÖÖ3 4
Cascade
ÖÖ4 ;
)
ÖÖ; <
;
ÖÖ< =
}
ÜÜ 
)
ÜÜ 
;
ÜÜ 
migrationBuilder
àà 
.
àà 
CreateTable
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ (
,
ââ( )
columns
ää 
:
ää 
table
ää 
=>
ää !
new
ää" %
{
ãã 
UserId
åå 
=
åå 
table
åå "
.
åå" #
Column
åå# )
<
åå) *
string
åå* 0
>
åå0 1
(
åå1 2
nullable
åå2 :
:
åå: ;
false
åå< A
)
ååA B
,
ååB C
LoginProvider
çç !
=
çç" #
table
çç$ )
.
çç) *
Column
çç* 0
<
çç0 1
string
çç1 7
>
çç7 8
(
çç8 9
nullable
çç9 A
:
ççA B
false
ççC H
)
ççH I
,
ççI J
Name
éé 
=
éé 
table
éé  
.
éé  !
Column
éé! '
<
éé' (
string
éé( .
>
éé. /
(
éé/ 0
nullable
éé0 8
:
éé8 9
false
éé: ?
)
éé? @
,
éé@ A
Value
èè 
=
èè 
table
èè !
.
èè! "
Column
èè" (
<
èè( )
string
èè) /
>
èè/ 0
(
èè0 1
nullable
èè1 9
:
èè9 :
true
èè; ?
)
èè? @
}
êê 
,
êê 
constraints
ëë 
:
ëë 
table
ëë "
=>
ëë# %
{
íí 
table
ìì 
.
ìì 

PrimaryKey
ìì $
(
ìì$ %
$str
ìì% :
,
ìì: ;
x
ìì< =
=>
ìì> @
new
ììA D
{
ììE F
x
ììG H
.
ììH I
UserId
ììI O
,
ììO P
x
ììQ R
.
ììR S
LoginProvider
ììS `
,
ìì` a
x
ììb c
.
ììc d
Name
ììd h
}
ììi j
)
ììj k
;
ììk l
table
îî 
.
îî 

ForeignKey
îî $
(
îî$ %
name
ïï 
:
ïï 
$str
ïï F
,
ïïF G
column
ññ 
:
ññ 
x
ññ  !
=>
ññ" $
x
ññ% &
.
ññ& '
UserId
ññ' -
,
ññ- .
principalTable
óó &
:
óó& '
$str
óó( 5
,
óó5 6
principalColumn
òò '
:
òò' (
$str
òò) -
,
òò- .
onDelete
ôô  
:
ôô  !
ReferentialAction
ôô" 3
.
ôô3 4
Cascade
ôô4 ;
)
ôô; <
;
ôô< =
}
öö 
)
öö 
;
öö 
migrationBuilder
úú 
.
úú 
CreateIndex
úú (
(
úú( )
name
ùù 
:
ùù 
$str
ùù 2
,
ùù2 3
table
ûû 
:
ûû 
$str
ûû )
,
ûû) *
column
üü 
:
üü 
$str
üü  
)
üü  !
;
üü! "
migrationBuilder
°° 
.
°° 
CreateIndex
°° (
(
°°( )
name
¢¢ 
:
¢¢ 
$str
¢¢ %
,
¢¢% &
table
££ 
:
££ 
$str
££ $
,
££$ %
column
§§ 
:
§§ 
$str
§§ (
,
§§( )
unique
•• 
:
•• 
true
•• 
,
•• 
filter
¶¶ 
:
¶¶ 
$str
¶¶ 6
)
¶¶6 7
;
¶¶7 8
migrationBuilder
®® 
.
®® 
CreateIndex
®® (
(
®®( )
name
©© 
:
©© 
$str
©© 2
,
©©2 3
table
™™ 
:
™™ 
$str
™™ )
,
™™) *
column
´´ 
:
´´ 
$str
´´  
)
´´  !
;
´´! "
migrationBuilder
≠≠ 
.
≠≠ 
CreateIndex
≠≠ (
(
≠≠( )
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ 2
,
ÆÆ2 3
table
ØØ 
:
ØØ 
$str
ØØ )
,
ØØ) *
column
∞∞ 
:
∞∞ 
$str
∞∞  
)
∞∞  !
;
∞∞! "
migrationBuilder
≤≤ 
.
≤≤ 
CreateIndex
≤≤ (
(
≤≤( )
name
≥≥ 
:
≥≥ 
$str
≥≥ 1
,
≥≥1 2
table
¥¥ 
:
¥¥ 
$str
¥¥ (
,
¥¥( )
column
µµ 
:
µµ 
$str
µµ  
)
µµ  !
;
µµ! "
migrationBuilder
∑∑ 
.
∑∑ 
CreateIndex
∑∑ (
(
∑∑( )
name
∏∏ 
:
∏∏ 
$str
∏∏ "
,
∏∏" #
table
ππ 
:
ππ 
$str
ππ $
,
ππ$ %
column
∫∫ 
:
∫∫ 
$str
∫∫ )
)
∫∫) *
;
∫∫* +
migrationBuilder
ºº 
.
ºº 
CreateIndex
ºº (
(
ºº( )
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ %
,
ΩΩ% &
table
ææ 
:
ææ 
$str
ææ $
,
ææ$ %
column
øø 
:
øø 
$str
øø ,
,
øø, -
unique
¿¿ 
:
¿¿ 
true
¿¿ 
,
¿¿ 
filter
¡¡ 
:
¡¡ 
$str
¡¡ :
)
¡¡: ;
;
¡¡; <
}
¬¬ 	
	protected
ƒƒ 
override
ƒƒ 
void
ƒƒ 
Down
ƒƒ  $
(
ƒƒ$ %
MigrationBuilder
ƒƒ% 5
migrationBuilder
ƒƒ6 F
)
ƒƒF G
{
≈≈ 	
migrationBuilder
∆∆ 
.
∆∆ 
	DropTable
∆∆ &
(
∆∆& '
name
«« 
:
«« 
$str
«« (
)
««( )
;
««) *
migrationBuilder
…… 
.
…… 
	DropTable
…… &
(
……& '
name
   
:
   
$str
   (
)
  ( )
;
  ) *
migrationBuilder
ÃÃ 
.
ÃÃ 
	DropTable
ÃÃ &
(
ÃÃ& '
name
ÕÕ 
:
ÕÕ 
$str
ÕÕ (
)
ÕÕ( )
;
ÕÕ) *
migrationBuilder
œœ 
.
œœ 
	DropTable
œœ &
(
œœ& '
name
–– 
:
–– 
$str
–– '
)
––' (
;
––( )
migrationBuilder
““ 
.
““ 
	DropTable
““ &
(
““& '
name
”” 
:
”” 
$str
”” (
)
””( )
;
””) *
migrationBuilder
’’ 
.
’’ 
	DropTable
’’ &
(
’’& '
name
÷÷ 
:
÷÷ 
$str
÷÷ #
)
÷÷# $
;
÷÷$ %
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ #
)
ŸŸ# $
;
ŸŸ$ %
}
⁄⁄ 	
}
€€ 
}‹‹ ¨

ìC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\ExternalLoginViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 "
ExternalLoginViewModel		 '
{

 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ;
); <
]< =
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 8
)8 9
]9 :
[ 	
EmailAddress	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
bool 

UserExists 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ê
îC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\ForgotPasswordViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 #
ForgotPasswordViewModel		 (
{

 
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¯
ãC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\LoginViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 
LoginViewModel		 
{

 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
bool 

RememberMe 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ß
íC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\LoginWith2faViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 !
LoginWith2faViewModel		 &
{

 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage %
=& '
$str( f
,f g
MinimumLengthh u
=v w
$numx y
)y z
]z {
[ 	
DataType	 
( 
DataType 
. 
Text 
)  
]  !
[ 	
Display	 
( 
Name 
= 
$str ,
), -
]- .
public 
string 
TwoFactorCode #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Display	 
( 
Name 
= 
$str /
)/ 0
]0 1
public 
bool 
RememberMachine #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 

RememberMe 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ˙
õC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\LoginWithRecoveryCodeViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 *
LoginWithRecoveryCodeViewModel		 /
{

 
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Text 
)  
]  !
[ 	
Display	 
( 
Name 
= 
$str '
)' (
]( )
public 
string 
RecoveryCode "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ’
éC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\RegisterViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 
RegisterViewModel		 "
{

 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 8
)8 9
]9 :
[ 	
EmailAddress	 
] 
[ 	
Display	 
( 
Name 
= 
$str 
)  
]  !
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ;
); <
]< =
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str "
)" #
]# $
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str *
)* +
]+ ,
[ 	
Compare	 
( 
$str 
, 
ErrorMessage )
=* +
$str, b
)b c
]c d
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Range	 
( 
typeof 
( 
bool 
) 
, 
$str #
,# $
$str% +
,+ ,
ErrorMessage- 9
=: ;
$str< Z
)Z [
][ \
public 
bool 
AcceptTerms 
{  !
get" %
;% &
set' *
;* +
}, -
}   
}!! ¨
ìC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\AccountViewModels\ResetPasswordViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
AccountViewModels: K
{ 
public		 

class		 "
ResetPasswordViewModel		 '
{

 
[ 	
Required	 
] 
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str *
)* +
]+ ,
[ 	
Compare	 
( 
$str 
, 
ErrorMessage )
=* +
$str, b
)b c
]c d
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
Code 
{ 
get  
;  !
set" %
;% &
}' (
} 
} „
zC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ApplicationUser.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
{ 
public

 

class

 
ApplicationUser

  
:

! "
IdentityUser

# /
{ 
} 
} –
ìC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\ChangePasswordViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		 #
ChangePasswordViewModel		 (
{

 
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str *
)* +
]+ ,
public 
string 
OldPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
string 
NewPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str .
). /
]/ 0
[ 	
Compare	 
( 
$str 
, 
ErrorMessage  ,
=- .
$str/ i
)i j
]j k
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
StatusMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} é
òC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\EnableAuthenticatorViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{		 
public

 

class

 (
EnableAuthenticatorViewModel

 -
{ 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage %
=& '
$str( f
,f g
MinimumLengthh u
=v w
$numx y
)y z
]z {
[ 	
DataType	 
( 
DataType 
. 
Text 
)  
]  !
[ 	
Display	 
( 
Name 
= 
$str +
)+ ,
], -
public 
string 
Code 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
ReadOnly	 
( 
true 
) 
] 
public 
string 
	SharedKey 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
AuthenticatorUri &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} É

ìC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\ExternalLoginsViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{		 
public

 

class

 #
ExternalLoginsViewModel

 (
{ 
public 
IList 
< 
UserLoginInfo "
>" #
CurrentLogins$ 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
public 
IList 
<  
AuthenticationScheme )
>) *
OtherLogins+ 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
bool 
ShowRemoveButton $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
StatusMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Ø
äC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\IndexViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		 
IndexViewModel		 
{

 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 
IsEmailConfirmed $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Phone	 
] 
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
StatusMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} √
êC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\RemoveLoginViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		  
RemoveLoginViewModel		 %
{

 
public 
string 
LoginProvider #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
ProviderKey !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ê
êC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\SetPasswordViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		  
SetPasswordViewModel		 %
{

 
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
string 
NewPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str .
). /
]/ 0
[ 	
Compare	 
( 
$str 
, 
ErrorMessage  ,
=- .
$str/ i
)i j
]j k
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
StatusMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Œ
ñC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\ShowRecoveryCodesViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		 &
ShowRecoveryCodesViewModel		 +
{

 
public 
string 
[ 
] 
RecoveryCodes %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ˝
úC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Models\ManageViewModels\TwoFactorAuthenticationViewModel.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Models3 9
.9 :
ManageViewModels: J
{ 
public		 

class		 ,
 TwoFactorAuthenticationViewModel		 1
{

 
public 
bool 
HasAuthenticator $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
int 
RecoveryCodesLeft $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
bool 
Is2faEnabled  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ”
xC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Services\EmailSender.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Services3 ;
{ 
public

 

class

 
EmailSender

 
:

 
IEmailSender

 +
{ 
public 
Task 
SendEmailAsync "
(" #
string# )
email* /
,/ 0
string1 7
subject8 ?
,? @
stringA G
messageH O
)O P
{ 	
return 
Task 
. 
CompletedTask %
;% &
} 	
} 
} Æ
yC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Services\IEmailSender.cs
	namespace 	
IndieVisible
 
. 
Infra 
. 
CrossCutting )
.) *
Identity* 2
.2 3
Services3 ;
{ 
public 

	interface 
IEmailSender !
{		 
Task

 
SendEmailAsync

 
(

 
string

 "
email

# (
,

( )
string

* 0
subject

1 8
,

8 9
string

: @
message

A H
)

H I
;

I J
} 
} Ô
ÅC:\Users\daniel.gomes.ext\Documents\GitHub\indievisible\IndieVisible.Infra.CrossCutting.Identity\Services\SendGridEmailService.cs
	namespace		 	
IndieVisible		
 
.		 
Infra		 
.		 
CrossCutting		 )
.		) *
Identity		* 2
.		2 3
Services		3 ;
{

 
public 

class  
SendGridEmailService %
:& '
IEmailSender( 4
{ 
private 
readonly 
IConfiguration '
_configuration( 6
;6 7
public  
SendGridEmailService #
(# $
IConfiguration$ 2
configuration3 @
)@ A
{ 	
_configuration 
= 
configuration *
;* +
} 	
public 
async 
Task 
SendEmailAsync (
(( )
string) /
email0 5
,5 6
string7 =
subject> E
,E F
stringG M
messageN U
)U V
{ 	
var 
apiKey 
= 
Environment $
.$ %"
GetEnvironmentVariable% ;
(; <
$str< M
)M N
;N O
if 
( 
string 
. 
IsNullOrEmpty $
($ %
apiKey% +
)+ ,
), -
{ 
apiKey 
= 
_configuration '
.' (

GetSection( 2
(2 3
$str3 D
)D E
.E F
ValueF K
;K L
} 
var 
client 
= 
new 
SendGridClient +
(+ ,
apiKey, 2
)2 3
;3 4
var 
from 
= 
new 
EmailAddress '
(' (
$str( C
,C D
$strE ]
)] ^
;^ _
var 
msg 
= 
new 
SendGridMessage )
() *
)* +
{   
From!! 
=!! 
from!! 
,!! 
Subject"" 
="" 
subject"" !
,""! "
PlainTextContent##  
=##! "
message### *
,##* +
HtmlContent$$ 
=$$ 
message$$ %
}%% 
;%% 
msg'' 
.'' 
AddTo'' 
('' 
new'' 
EmailAddress'' &
(''& '
email''' ,
)'', -
)''- .
;''. /
var)) 
response)) 
=)) 
await))  
client))! '
.))' (
SendEmailAsync))( 6
())6 7
msg))7 :
))): ;
;)); <
}** 	
}++ 
},, 